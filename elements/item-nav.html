<link rel="import" href="../bower_components/core-menu/core-menu.html">
<link rel="import" href="../bower_components/paper-item/paper-item.html">
<link rel="import" href="content-data.html">
<polymer-element name="item-nav">
<template>
  <style>
      a.core-selected {
        color: #000;
      }
      polyfill-next-selector { content: '.core-selected > paper-item'; }
      ::content > paper-item {
        border-left: 3px solid rgb(243,99,104);
        opacity: 0.7;
        color: #000;
      }
      .core-selected > paper-item {
        border-left: 3px solid rgb(243,99,104);
        opacity: 0.7;
        color: #000;
      }
      paper-item{
        color: #666666;
        font-size: 12px;
        opacity: 0.7;
        font-weight: 500;
        letter-spacing: 1px;
        text-transform: uppercase;
      }
      paper-item.core-selected{
        /*background-color: #f36368;*/
      }
      .button-content{
        font-size: 12px;
      }
      core-menu{
        margin-left: 25px;
      }
  </style>
  <content-data id="contents" posts="{{posts}}"></content-data>
  <core-menu selected="0" id="mainmenu">
    <!-- <a href="/#all"><paper-item on-click={{tapped}} id="all">All</paper-item></a> -->
    <template repeat="{{post in posts}}">
      <a href="#article{{post.uid}}">
        <paper-item on-click={{tapped}} id="{{post.initial}}">
          {{post.title}}
          <script>
            // var isChrome = /Chrome/.test(navigator.userAgent) && /Google Inc/.test(navigator.vendor);
            // if({{post.selected}}){
            //   if (isChrome){
            //       var b = document.querySelector('mobile-profile::shadow #back');
            //   }else{
            //       var b = document.getElementById('back');
            //   }
            //   var i = document.querySelector('img#thumbnail');
            //   i.src = '{{post.thumbnail}}';
            //   var t = document.querySelector('.menu-label');
            //   t.innerHTML = '{{post.title}}';
            // }
          </script>
        </paper-item>
      </a>
    </template>
  </core-menu>
</template>
<script>
  Polymer({
    ready: function(){
      // console.log(this.$);
    },
    tapped: function(event, detail, sender){
      if(sender.id == "all"){
        console.log("all:clicked!");
        var i = document.querySelector('img#thumbnail');
        i.src = "";
      }else{
        console.log(sender.id+":clicked!");
        // console.log(sender);
        changeThumbnail();
      }

      var isChrome = /Chrome/.test(navigator.userAgent) && /Google Inc/.test(navigator.vendor);
      if (isChrome){
      // var tabcontents = document.querySelector('paper-tabs::shadow #tabsContent');
      var b = document.querySelector('mobile-profile::shadow #back');
      var f = document.querySelector('mobile-profile::shadow #front');
      //   var bar = document.querySelector('paper-tabs::shadow #selectionBar');
      //   var route = 'article-box::shadow #post'+sender.templateInstance.model.post.uid;
      //   var currentarticle = document.querySelector('article-box::shadow .show');
      //   var newarticle = document.querySelector(route);
      //   currentarticle.className = "hide";
      //   newarticle.className = "show";
      //   newarticle.querySelector("#intro").scrollIntoView();
      }else{
      //   var b = document.getElementById('back');
      //   var bar = document.getElementById('selectionBar');
      //   var tabcontents = document.getElementById('tabsContent');
      //   var route = 'post'+sender.templateInstance.model.post.uid;
      //   // console.log(route);
      //
      //   for(var i = 1; i <10; i++){
      //     document.getElementById('post'+i).className = "hide";
      //   }
      //   var newarticle = document.getElementById(route);
      //   newarticle.className = "show";
      //   newarticle.getElementsByTagName("div")[0].scrollIntoView();
      }
      // var imgHTML = '<img id="thumbnail" src="'+sender.templateInstance.model.post.thumbnai+'">';
      // b.style.background = sender.templateInstance.model.post.colorcode;
      // var t = document.querySelector('.menu-label');
      // t.innerHTML = sender.templateInstance.model.post.title;
      // console.log(f);
      function changeThumbnail(){
        var i = document.querySelector('img#thumbnail');
        i.src = sender.templateInstance.model.post.thumbnail;
      }
    }
  });
</script>
</polymer-element>
